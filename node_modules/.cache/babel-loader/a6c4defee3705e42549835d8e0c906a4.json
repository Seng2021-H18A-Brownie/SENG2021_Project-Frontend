{"ast":null,"code":"var _jsxFileName = \"/home/tunein/Documents/frontend/SENG2021_Project/react_flask/src/pages/ReportList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport axios from 'axios';\nimport Credentials from '../Credentials';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ListReport() {\n  _s();\n\n  const [reports, setReports] = React.useState([]);\n  const tmp = React.useContext(Credentials);\n  const token = tmp.replace(/['\"]+/g, '');\n  const params = new URLSearchParams([['token', token]]);\n  useEffect(() => {\n    fetchreports();\n  }, []);\n  useEffect(() => {\n    console.log(reports);\n  }, [reports]);\n\n  const fetchreports = async () => {\n    const response = await axios(`/reports/list`, {\n      params\n    });\n    setReports(response.data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"report List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }, this), reports && reports.map(report => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          alignItems: 'center',\n          margin: '40px 30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"report Id: \", report.report_id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"FileName: \", report.filename]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 17\n        }, this)]\n      }, report.report_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ListReport, \"a74pCkE35aI7dc/yJTLF813MYcE=\");\n\n_c = ListReport;\nexport default ListReport;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListReport\");","map":{"version":3,"sources":["/home/tunein/Documents/frontend/SENG2021_Project/react_flask/src/pages/ReportList.js"],"names":["React","useEffect","axios","Credentials","ListReport","reports","setReports","useState","tmp","useContext","token","replace","params","URLSearchParams","fetchreports","console","log","response","data","map","report","alignItems","margin","report_id","filename"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,WAAP,MAAwB,gBAAxB;;;AAEA,SAASC,UAAT,GAAsB;AAAA;;AAClB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,KAAK,CAACO,QAAN,CAAe,EAAf,CAA9B;AAEA,QAAMC,GAAG,GAAGR,KAAK,CAACS,UAAN,CAAiBN,WAAjB,CAAZ;AACA,QAAMO,KAAK,GAAGF,GAAG,CAACG,OAAJ,CAAY,QAAZ,EAAsB,EAAtB,CAAd;AACA,QAAMC,MAAM,GAAG,IAAIC,eAAJ,CAAoB,CAAC,CAAC,OAAD,EAAUH,KAAV,CAAD,CAApB,CAAf;AAEAT,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,YAAY;AACb,GAFQ,EAEN,EAFM,CAAT;AAGAb,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,OAAO,CAACC,GAAR,CAAYX,OAAZ;AACD,GAFQ,EAEN,CAACA,OAAD,CAFM,CAAT;;AAGA,QAAMS,YAAY,GAAC,YAAS;AACxB,UAAMG,QAAQ,GAAC,MAAMf,KAAK,CAAE,eAAF,EAAkB;AAAEU,MAAAA;AAAF,KAAlB,CAA1B;AACAN,IAAAA,UAAU,CAACW,QAAQ,CAACC,IAAV,CAAV;AACH,GAHD;;AAIA,sBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,4BACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,EAGEb,OAAO,IAAIA,OAAO,CAACc,GAAR,CAAYC,MAAM,IAAE;AAC7B,0BACI;AAA4B,QAAA,KAAK,EAAE;AAACC,UAAAA,UAAU,EAAC,QAAZ;AAAqBC,UAAAA,MAAM,EAAC;AAA5B,SAAnC;AAAA,gCAEA;AAAA,oCAAgBF,MAAM,CAACG,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA,eAGA;AAAA,mCAAcH,MAAM,CAACI,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHA;AAAA,SAAUJ,MAAM,CAACG,SAAjB;AAAA;AAAA;AAAA;AAAA,cADJ;AAOC,KARQ,CAHb;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAgBH;;GAjCQnB,U;;KAAAA,U;AAmCT,eAAeA,UAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport axios from 'axios';\n\nimport Credentials from '../Credentials';\n\nfunction ListReport() {\n    const [reports, setReports] = React.useState([]);\n\n    const tmp = React.useContext(Credentials);\n    const token = tmp.replace(/['\"]+/g, '');\n    const params = new URLSearchParams([['token', token]]);\n   \n    useEffect(() => {\n      fetchreports();\n    }, [])\n    useEffect(() => {\n      console.log(reports)\n    }, [reports])\n    const fetchreports=async()=>{\n        const response=await axios(`/reports/list`, { params});\n        setReports(response.data)    \n    }\n    return (\n        <div className=\"App\">\n        <h1>report List</h1>\n        {\n          reports && reports.map(report=>{\n            return(\n                <div key={report.report_id} style={{alignItems:'center',margin:'40px 30px'}}>\n                \n                <h4>report Id: {report.report_id}</h4>\n                <p>FileName: {report.filename}</p>\n                </div>\n                )\n            })\n        }\n        </div>\n    );\n}\n   \nexport default ListReport;\n"]},"metadata":{},"sourceType":"module"}