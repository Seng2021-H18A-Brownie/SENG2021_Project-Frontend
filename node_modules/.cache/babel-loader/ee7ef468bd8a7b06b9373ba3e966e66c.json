{"ast":null,"code":"var _jsxFileName = \"/home/tunein/Documents/frontend/SENG2021_Project/react_flask/src/pages/invoiceEmailReceive.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport './wrapper.css';\nimport axios from 'axios';\nimport './wrapper.css';\nimport Credentials from '../Credentials';\nimport { Box, Button, Container, TextField, Typography } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction InvoiceEmailReceive() {\n  _s();\n\n  const [report, setReport] = React.useState();\n  const tmp = React.useContext(Credentials);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const report_type = event.target[0].value;\n    if (!report_type) return;\n    const formData = new FormData();\n    const token = tmp.replace(/['\"]+/g, '');\n    axios.post(`/invoice/upload/IMAP`, {\n      token,\n      report_type\n    }).then(response => {\n      console.log(response.data);\n\n      if (response.data === null) {\n        setReport(\"No new invoices received!\");\n      } else {\n        setReport(JSON.stringify(response.data));\n      }\n    }).catch(err => {});\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"lg\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      boxShadow: 1,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h1\",\n        variant: \"h2\",\n        children: \"Upload Invoice\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          id: \"report_type\",\n          name: \"Report Type\",\n          label: \"Report Type\",\n          type: \"text\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"report\",\n          children: report ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: report\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 47\n          }, this) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n_s(InvoiceEmailReceive, \"EVyPYprgDqo8aq28I2ufdMVO+0U=\");\n\n_c = InvoiceEmailReceive;\nexport default InvoiceEmailReceive; // UploadInvoice.propTypes = {\n//   setSelectedFile: PropTypes.func.isRequired\n// }\n\nvar _c;\n\n$RefreshReg$(_c, \"InvoiceEmailReceive\");","map":{"version":3,"sources":["/home/tunein/Documents/frontend/SENG2021_Project/react_flask/src/pages/invoiceEmailReceive.js"],"names":["React","useState","axios","Credentials","Box","Button","Container","TextField","Typography","InvoiceEmailReceive","report","setReport","tmp","useContext","handleSubmit","event","preventDefault","report_type","target","value","formData","FormData","token","replace","post","then","response","console","log","data","JSON","stringify","catch","err"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,eAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,eAAP;AAEA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,SACEC,GADF,EAEEC,MAFF,EAGEC,SAHF,EAIEC,SAJF,EAKEC,UALF,QAMO,mBANP;;;AAQA,SAASC,mBAAT,GAA+B;AAAA;;AAC7B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBX,KAAK,CAACC,QAAN,EAA5B;AAEA,QAAMW,GAAG,GAAGZ,KAAK,CAACa,UAAN,CAAiBV,WAAjB,CAAZ;;AAEA,WAASW,YAAT,CAAsBC,KAAtB,EAA6B;AAC3BA,IAAAA,KAAK,CAACC,cAAN;AAEA,UAAMC,WAAW,GAAGF,KAAK,CAACG,MAAN,CAAa,CAAb,EAAgBC,KAApC;AACA,QAAI,CAACF,WAAL,EAAkB;AAElB,UAAMG,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACA,UAAMC,KAAK,GAAGV,GAAG,CAACW,OAAJ,CAAY,QAAZ,EAAsB,EAAtB,CAAd;AAEArB,IAAAA,KAAK,CAACsB,IAAN,CAAY,sBAAZ,EAAmC;AAAEF,MAAAA,KAAF;AAASL,MAAAA;AAAT,KAAnC,EACCQ,IADD,CACOC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;;AACA,UAAIH,QAAQ,CAACG,IAAT,KAAkB,IAAtB,EAA4B;AAC1BlB,QAAAA,SAAS,CAAC,2BAAD,CAAT;AACD,OAFD,MAEO;AACLA,QAAAA,SAAS,CAACmB,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACG,IAAxB,CAAD,CAAT;AACD;AACF,KARD,EASCG,KATD,CASQC,GAAD,IAAS,CAAG,CATnB;AAUC;;AAEH,sBACE,QAAC,SAAD;AAAW,IAAA,SAAS,EAAC,MAArB;AAA4B,IAAA,QAAQ,EAAC,IAArC;AAAA,2BACE,QAAC,GAAD;AAAK,MAAA,SAAS,EAAE,CAAhB;AAAA,8BACE,QAAC,UAAD;AAAY,QAAA,SAAS,EAAC,IAAtB;AAA2B,QAAA,OAAO,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAKI;AAAM,QAAA,QAAQ,EAAEnB,YAAhB;AAAA,gCACE,QAAC,SAAD;AACE,UAAA,OAAO,EAAC,UADV;AAEE,UAAA,MAAM,EAAC,QAFT;AAGE,UAAA,QAAQ,MAHV;AAIE,UAAA,SAAS,MAJX;AAKE,UAAA,EAAE,EAAC,aALL;AAME,UAAA,IAAI,EAAC,aANP;AAOE,UAAA,KAAK,EAAC,aAPR;AAQE,UAAA,IAAI,EAAC,MARP;AASE,UAAA,SAAS;AATX;AAAA;AAAA;AAAA;AAAA,gBADF,eAYE,QAAC,MAAD;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,SAAS,MAA/B;AAAgC,UAAA,OAAO,EAAC,WAAxC;AAAoD,UAAA,KAAK,EAAC,SAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAZF,eAeE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,oBAAyBJ,MAAM,gBAAG;AAAA,sBAAIA;AAAJ;AAAA;AAAA;AAAA;AAAA,kBAAH,GAAqB;AAApD;AAAA;AAAA;AAAA;AAAA,gBAfF;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA8BD;;GAxDQD,mB;;KAAAA,mB;AA0DT,eAAeA,mBAAf,C,CACA;AACA;AACA","sourcesContent":["import React, { useState } from 'react';\nimport './wrapper.css';\nimport axios from 'axios';\nimport './wrapper.css';\n\nimport Credentials from '../Credentials';\nimport {\n  Box,\n  Button,\n  Container,\n  TextField,\n  Typography,\n} from '@material-ui/core';\n\nfunction InvoiceEmailReceive() {\n  const [report, setReport] = React.useState();\n\n  const tmp = React.useContext(Credentials);\n  \n  function handleSubmit(event) {\n    event.preventDefault();\n\n    const report_type = event.target[0].value;\n    if (!report_type) return;\n\n    const formData = new FormData();\n    const token = tmp.replace(/['\"]+/g, '');\n\n    axios.post(`/invoice/upload/IMAP`, { token, report_type })\n    .then((response) => {\n      console.log(response.data);\n      if (response.data === null) {\n        setReport(\"No new invoices received!\");\n      } else {\n        setReport(JSON.stringify(response.data));\n      }\n    })\n    .catch((err) => { });\n    } \n\n  return(\n    <Container component=\"main\" maxWidth=\"lg\">\n      <Box boxShadow={1}>\n        <Typography component=\"h1\" variant=\"h2\">\n          Upload Invoice\n        </Typography>\n        {\n          <form onSubmit={handleSubmit}>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"report_type\"\n              name=\"Report Type\"\n              label=\"Report Type\"\n              type=\"text\"\n              autoFocus \n            />\n            <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\n            Submit\n            </Button>\n            <div className=\"report\">{report ? <p>{report}</p> : null}</div>\n          </form>\n\n            \n        }\n      </Box>\n    </Container>\n  );\n}\n\nexport default InvoiceEmailReceive;\n// UploadInvoice.propTypes = {\n//   setSelectedFile: PropTypes.func.isRequired\n// }\n"]},"metadata":{},"sourceType":"module"}