{"ast":null,"code":"var _jsxFileName = \"/home/tunein/Documents/frontend/SENG2021_Project/react_flask/src/pages/invoiceList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport axios from 'axios';\nimport Credentials from '../Credentials';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ListInvoice() {\n  _s();\n\n  const [invoices, setInvoices] = React.useState([]);\n  const tmp = React.useContext(Credentials);\n  const token = tmp.replace(/['\"]+/g, '');\n  const params = new URLSearchParams([['token', token]]);\n  useEffect(() => {\n    fetchInvoices();\n  }, []);\n  useEffect(() => {\n    console.log(invoices);\n  }, [invoices]);\n\n  const fetchInvoices = async () => {\n    const response = await axios(`/invoices/list`, {\n      params\n    });\n    setInvoices(response.data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Invoice List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), invoices && invoices.map(invoice => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          alignItems: 'center',\n          margin: '40px 30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Invoice Id: \", invoice.invoice_id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"FileName: \", invoice.filename]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 13\n        }, this)]\n      }, invoice.invoice_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 7\n  }, this);\n}\n\n_s(ListInvoice, \"NOa2NSG/WH+bN2g6nOM8p8vHmYk=\");\n\n_c = ListInvoice;\nexport default ListInvoice;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListInvoice\");","map":{"version":3,"sources":["/home/tunein/Documents/frontend/SENG2021_Project/react_flask/src/pages/invoiceList.js"],"names":["React","useEffect","axios","Credentials","ListInvoice","invoices","setInvoices","useState","tmp","useContext","token","replace","params","URLSearchParams","fetchInvoices","console","log","response","data","map","invoice","alignItems","margin","invoice_id","filename"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,WAAP,MAAwB,gBAAxB;;;AAEA,SAASC,WAAT,GAAuB;AAAA;;AACnB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,KAAK,CAACO,QAAN,CAAe,EAAf,CAAhC;AAEA,QAAMC,GAAG,GAAGR,KAAK,CAACS,UAAN,CAAiBN,WAAjB,CAAZ;AACA,QAAMO,KAAK,GAAGF,GAAG,CAACG,OAAJ,CAAY,QAAZ,EAAsB,EAAtB,CAAd;AACA,QAAMC,MAAM,GAAG,IAAIC,eAAJ,CAAoB,CAAC,CAAC,OAAD,EAAUH,KAAV,CAAD,CAApB,CAAf;AAEAT,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,aAAa;AACd,GAFQ,EAEN,EAFM,CAAT;AAGAb,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,OAAO,CAACC,GAAR,CAAYX,QAAZ;AACD,GAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;;AAGA,QAAMS,aAAa,GAAC,YAAS;AACzB,UAAMG,QAAQ,GAAC,MAAMf,KAAK,CAAE,gBAAF,EAAmB;AAAEU,MAAAA;AAAF,KAAnB,CAA1B;AACAN,IAAAA,WAAW,CAACW,QAAQ,CAACC,IAAV,CAAX;AACH,GAHD;;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,4BACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,EAGEb,QAAQ,IAAIA,QAAQ,CAACc,GAAT,CAAaC,OAAO,IAAE;AAChC,0BACE;AAA8B,QAAA,KAAK,EAAE;AAACC,UAAAA,UAAU,EAAC,QAAZ;AAAqBC,UAAAA,MAAM,EAAC;AAA5B,SAArC;AAAA,gCAEA;AAAA,qCAAiBF,OAAO,CAACG,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA,eAGA;AAAA,mCAAcH,OAAO,CAACI,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHA;AAAA,SAAUJ,OAAO,CAACG,UAAlB;AAAA;AAAA;AAAA;AAAA,cADF;AAOG,KARO,CAHd;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAgBH;;GAjCQnB,W;;KAAAA,W;AAmCT,eAAeA,WAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport axios from 'axios';\n\nimport Credentials from '../Credentials';\n\nfunction ListInvoice() {\n    const [invoices, setInvoices] = React.useState([]);\n\n    const tmp = React.useContext(Credentials);\n    const token = tmp.replace(/['\"]+/g, '');\n    const params = new URLSearchParams([['token', token]]);\n   \n    useEffect(() => {\n      fetchInvoices();\n    }, [])\n    useEffect(() => {\n      console.log(invoices)\n    }, [invoices])\n    const fetchInvoices=async()=>{\n        const response=await axios(`/invoices/list`, { params});\n        setInvoices(response.data)    \n    }\n    return (\n      <div className=\"App\">\n      <h1>Invoice List</h1>\n      {\n        invoices && invoices.map(invoice=>{\n          return(\n            <div key={invoice.invoice_id} style={{alignItems:'center',margin:'40px 30px'}}>\n            \n            <h4>Invoice Id: {invoice.invoice_id}</h4>\n            <p>FileName: {invoice.filename}</p>\n            </div>\n            )\n            })\n        }\n        </div>\n    );\n}\n   \nexport default ListInvoice;\n"]},"metadata":{},"sourceType":"module"}