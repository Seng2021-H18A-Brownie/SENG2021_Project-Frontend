{"ast":null,"code":"var _jsxFileName = \"/home/tunein/Documents/frontend/SENG2021_Project/react_flask/src/pages/Login.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './wrapper.css';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport { Box, Button, Container, Grid, Link, TextField, Typography } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(_ref) {\n  _s();\n\n  let {\n    setCredentials,\n    ...props\n  } = _ref;\n  const [loading, setLoading] = React.useState(false);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const email = event.target[0].value;\n    const password = event.target[2].value;\n    if (!email || !password) return; // setLoading(true);\n\n    axios.post(`/auth/login`, {\n      email,\n      password\n    }).then(response => {\n      console.log(response);\n      setCredentials(response.data);\n      props.history.push('/dashboard');\n    }).catch(err => {}).finally(() => setLoading(false));\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      boxShadow: 1,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h1\",\n        variant: \"h2\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        noValidate: true,\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          id: \"email\",\n          label: \"Email\",\n          name: \"email\",\n          type: \"text\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          name: \"password\",\n          label: \"Password\",\n          type: \"password\",\n          id: \"password\",\n          autoComplete: \"current-password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          direction: \"column\",\n          alignItems: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/register\",\n              variant: \"body1\",\n              children: \"Don't have an account? Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"/Rjh5rPqCCqf0XYnTUk9ZNavw3Q=\");\n\n_c = Login;\nexport default Login;\nLogin.propTypes = {\n  setCredentials: PropTypes.func.isRequired\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/tunein/Documents/frontend/SENG2021_Project/react_flask/src/pages/Login.js"],"names":["React","PropTypes","axios","Box","Button","Container","Grid","Link","TextField","Typography","Login","setCredentials","props","loading","setLoading","useState","handleSubmit","event","preventDefault","email","target","value","password","post","then","response","console","log","data","history","push","catch","err","finally","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './wrapper.css';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport {\n  Box,\n  Button,\n  Container,\n  Grid,\n  Link,\n  TextField,\n  Typography,\n} from '@material-ui/core';\n\n\nfunction Login({ setCredentials, ...props }) {\n  const [loading, setLoading] = React.useState(false);\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const email = event.target[0].value;\n    const password = event.target[2].value;\n    if (!email || !password ) return;\n\n    // setLoading(true);\n  \n    axios.post(`/auth/login`, { email, password })\n      .then((response) => {\n        console.log(response);\n        setCredentials(response.data);\n        props.history.push('/dashboard');\n      })\n      .catch((err) => { })\n      .finally(() => setLoading(false));\n  }\n\n  return(\n    <Container component=\"main\" maxWidth=\"sm\">\n      <Box boxShadow={1}>\n        <Typography component=\"h1\" variant=\"h2\">\n          Login\n        </Typography>\n        {\n          loading\n            ? <div className=\"wrapper\"></div>\n            : <form noValidate onSubmit={handleSubmit}>\n              <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email\"\n                name=\"email\"\n                type=\"text\"\n                autoFocus\n              />\n              <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                autoComplete=\"current-password\"\n              />\n             \n              <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\n                Sign In\n                </Button>\n              <Grid container direction=\"column\" alignItems=\"center\">\n                <Grid item>\n                  <br />\n                  <Link href=\"/register\" variant=\"body1\">\n                    {\"Don't have an account? Register\"}\n                  </Link>\n                </Grid>\n              </Grid>\n            </form>\n        }\n      </Box>\n    </Container>\n  );\n}\nexport default Login;\n\nLogin.propTypes = {\n  setCredentials: PropTypes.func.isRequired\n}\n "]},"metadata":{},"sourceType":"module"}